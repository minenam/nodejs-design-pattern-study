<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Node.js ì½œë°± íŒ¨í„´ ì™„ë²½ ê°€ì´ë“œ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #68a063;
        --secondary: #333;
        --accent: #f39c12;
        --danger: #e74c3c;
        --success: #27ae60;
        --bg-light: #f8f9fa;
        --bg-dark: #2c3e50;
        --code-bg: #282c34;
        --border: #ddd;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--secondary);
        background: var(--bg-light);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        background: linear-gradient(135deg, var(--primary) 0%, #4a7c59 100%);
        color: white;
        padding: 40px 0;
        margin-bottom: 40px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      nav {
        background: white;
        padding: 15px 0;
        margin-bottom: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 10px;
        z-index: 100;
      }

      nav ul {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
      }

      nav a {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
        padding: 8px 16px;
        border-radius: 4px;
        transition: all 0.3s;
      }

      nav a:hover {
        background: var(--primary);
        color: white;
      }

      section {
        background: white;
        padding: 30px;
        margin-bottom: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      h2 {
        color: var(--primary);
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid var(--primary);
        font-size: 2em;
      }

      h3 {
        color: var(--secondary);
        margin: 25px 0 15px;
        font-size: 1.5em;
      }

      .key-concept {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
        border-left: 5px solid #4c51bf;
      }

      .key-concept h4 {
        margin-bottom: 10px;
        font-size: 1.3em;
      }

      .code-container {
        position: relative;
        margin: 20px 0;
      }

      .code-header {
        background: var(--code-bg);
        color: white;
        padding: 10px 15px;
        border-radius: 8px 8px 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      pre {
        background: var(--code-bg);
        color: #abb2bf;
        padding: 20px;
        border-radius: 0 0 8px 8px;
        overflow-x: auto;
        margin: 0;
      }

      code {
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95em;
      }

      .run-btn {
        background: var(--success);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s;
      }

      .run-btn:hover {
        background: #229954;
        transform: translateY(-2px);
      }

      .output {
        background: #1e1e1e;
        color: #00ff00;
        padding: 15px;
        border-radius: 8px;
        margin-top: 10px;
        font-family: "Consolas", monospace;
        min-height: 50px;
        white-space: pre-wrap;
      }

      .visualization {
        border: 2px solid var(--primary);
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        background: #f8f9fa;
      }

      .call-stack,
      .event-loop {
        display: flex;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .stack-item {
        background: white;
        border: 2px solid var(--primary);
        padding: 15px;
        border-radius: 6px;
        min-width: 150px;
        text-align: center;
        animation: fadeIn 0.5s;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .warning-box {
        background: #fff3cd;
        border-left: 5px solid var(--accent);
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .danger-box {
        background: #f8d7da;
        border-left: 5px solid var(--danger);
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .info-box {
        background: #d1ecf1;
        border-left: 5px solid #17a2b8;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .quiz {
        background: #e3f2fd;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }

      .quiz-question {
        font-weight: 600;
        margin-bottom: 15px;
        font-size: 1.1em;
      }

      .quiz-option {
        padding: 10px;
        margin: 8px 0;
        background: white;
        border: 2px solid #90caf9;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .quiz-option:hover {
        background: #bbdefb;
      }

      .quiz-option.correct {
        background: #c8e6c9;
        border-color: var(--success);
      }

      .quiz-option.incorrect {
        background: #ffcdd2;
        border-color: var(--danger);
      }

      .interactive-demo {
        border: 2px dashed var(--primary);
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        background: #f0f7f0;
      }

      .demo-controls {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        flex-wrap: wrap;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s;
      }

      .btn-primary {
        background: var(--primary);
        color: white;
      }

      .btn-secondary {
        background: #6c757d;
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .timeline {
        position: relative;
        padding: 20px 0;
      }

      .timeline-item {
        display: flex;
        gap: 20px;
        margin: 15px 0;
        align-items: center;
      }

      .timeline-marker {
        width: 30px;
        height: 30px;
        background: var(--primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        flex-shrink: 0;
      }

      .timeline-content {
        flex: 1;
        padding: 15px;
        background: white;
        border-radius: 6px;
        border: 1px solid var(--border);
      }

      .practice-editor {
        margin: 20px 0;
      }

      .practice-editor textarea {
        width: 100%;
        min-height: 200px;
        padding: 15px;
        font-family: "Consolas", monospace;
        font-size: 14px;
        border: 2px solid var(--border);
        border-radius: 8px;
        background: var(--code-bg);
        color: #abb2bf;
      }

      .appendix {
        background: #fff9e6;
        border: 2px solid var(--accent);
      }

      .tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        border-bottom: 2px solid var(--border);
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        border: none;
        background: none;
        font-weight: 600;
        color: #666;
        border-bottom: 3px solid transparent;
        transition: all 0.3s;
      }

      .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      footer {
        text-align: center;
        padding: 30px;
        background: var(--secondary);
        color: white;
        margin-top: 50px;
      }

      @media (max-width: 768px) {
        header h1 {
          font-size: 1.8em;
        }

        nav ul {
          flex-direction: column;
          gap: 10px;
        }

        section {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <h1>ğŸš€ Node.js ì½œë°± íŒ¨í„´ ì™„ë²½ ê°€ì´ë“œ</h1>
        <p>Continuation-Passing Styleê³¼ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ì´í•´í•˜ê¸°</p>
      </div>
    </header>

    <div class="container">
      <nav>
        <ul>
          <li><a href="#intro">ì†Œê°œ</a></li>
          <li><a href="#cps-basics">CPS ê¸°ì´ˆ</a></li>
          <li><a href="#async-cps">ë¹„ë™ê¸° CPS</a></li>
          <li><a href="#non-cps">ë¹„ì—°ì† ì „ë‹¬</a></li>
          <li><a href="#nodejs-conventions">Node.js ê·œì¹™</a></li>
          <li><a href="#zalgo">Zalgo ë¬¸ì œ</a></li>
          <li><a href="#practice">ì‹¤ìŠµ</a></li>
        </ul>
      </nav>

      <!-- ì†Œê°œ ì„¹ì…˜ -->
      <section id="intro">
        <h2>ğŸ“š í•™ìŠµ ëª©í‘œ</h2>
        <div class="key-concept">
          <h4>ì´ ê°€ì´ë“œë¥¼ í†µí•´ ë°°ìš°ê²Œ ë  ë‚´ìš©</h4>
          <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8">
            <li>ì½œë°± íŒ¨í„´ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ê¹Šì´ ì´í•´í•˜ê¸°</li>
            <li>Node.jsì—ì„œ ì‚¬ìš©ë˜ëŠ” ì½œë°± ê´€ë¡€ì™€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</li>
            <li>Zalgoì™€ ê°™ì€ í”í•œ ìœ„í—˜ìš”ì†Œë¥¼ ì‹ë³„í•˜ê³  í•´ê²°í•˜ëŠ” ë°©ë²•</li>
            <li>ì‹¤ë¬´ì—ì„œ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ ë¹„ë™ê¸° ì½”ë“œ ì‘ì„±í•˜ê¸°</li>
          </ul>
        </div>

        <p style="margin: 20px 0; font-size: 1.1em">
          Node.jsì˜ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ì€
          <strong>ì½œë°±(callback)</strong>ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” ì½œë°±ì˜ ì´ë¡ ì 
          ë°°ê²½ì¸ <strong>Continuation-Passing Style(CPS)</strong>ë¶€í„° ì‹¤ë¬´ì—ì„œ
          ë§ˆì£¼ì¹˜ëŠ” ì‹¤ì œ ë¬¸ì œë“¤ê¹Œì§€ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•©ë‹ˆë‹¤.
        </p>
      </section>

      <!-- CPS ê¸°ì´ˆ -->
      <section id="cps-basics">
        <h2>ğŸ¯ CPS (Continuation-Passing Style) ê¸°ì´ˆ</h2>

        <div class="key-concept">
          <h4>ğŸ’¡ í•µì‹¬ ê°œë…</h4>
          <p>
            CPSëŠ” í•¨ìˆ˜ê°€ ê²°ê³¼ë¥¼ ì§ì ‘ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹ ,
            <strong>ë‹¤ë¥¸ í•¨ìˆ˜(ì½œë°±)</strong>ì—ê²Œ ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ëŠ” í”„ë¡œê·¸ë˜ë°
            ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
          </p>
        </div>

        <h3>ì¼ë°˜ì ì¸ í•¨ìˆ˜ vs CPS í•¨ìˆ˜</h3>

        <div class="tabs">
          <button class="tab active" onclick="switchTab(event, 'direct-style')">
            Direct Style (ì¼ë°˜)
          </button>
          <button class="tab" onclick="switchTab(event, 'cps-style')">
            CPS Style
          </button>
        </div>

        <div id="direct-style" class="tab-content active">
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» Direct Style - ê²°ê³¼ë¥¼ ì§ì ‘ ë°˜í™˜</span>
              <button class="run-btn" onclick="runCode('direct')">ì‹¤í–‰</button>
            </div>
            <pre><code>// ì¼ë°˜ì ì¸ í•¨ìˆ˜: ê²°ê³¼ë¥¼ ì§ì ‘ ë°˜í™˜
function add(a, b) {
  return a + b;
}

const result = add(2, 3);
console.log('ê²°ê³¼:', result);  // 5</code></pre>
            <div id="output-direct" class="output"></div>
          </div>
        </div>

        <div id="cps-style" class="tab-content">
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» CPS Style - ê²°ê³¼ë¥¼ ì½œë°±ì— ì „ë‹¬</span>
              <button class="run-btn" onclick="runCode('cps')">ì‹¤í–‰</button>
            </div>
            <pre><code>// CPS í•¨ìˆ˜: ê²°ê³¼ë¥¼ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬
function addCPS(a, b, callback) {
  const result = a + b;
  callback(result);  // ê²°ê³¼ë¥¼ ì½œë°±ì— ì „ë‹¬
}

addCPS(2, 3, (result) => {
  console.log('ê²°ê³¼:', result);  // 5
});</code></pre>
            <div id="output-cps" class="output"></div>
          </div>
        </div>

        <div class="info-box">
          <strong>ğŸ¤” ì™œ CPSë¥¼ ì‚¬ìš©í• ê¹Œ?</strong>
          <p style="margin-top: 10px">
            CPSëŠ” ë¹„ë™ê¸° ì‘ì—…ì—ì„œ ë¹›ì„ ë°œí•©ë‹ˆë‹¤. ê²°ê³¼ê°€ "ë‚˜ì¤‘ì—" ì¤€ë¹„ë˜ëŠ”
            ìƒí™©ì—ì„œ ì½œë°±ì„ í†µí•´ ì œì–´ íë¦„ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>

        <h3>ğŸ”„ CPS ë³€í™˜ ì—°ìŠµ</h3>
        <div class="interactive-demo">
          <p>
            <strong>ì—°ìŠµ:</strong> ì•„ë˜ ì¼ë°˜ í•¨ìˆ˜ë¥¼ CPS ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜í•´ë³´ì„¸ìš”
          </p>
          <div class="code-container" style="margin: 15px 0">
            <pre><code>function multiply(x, y) {
  return x * y;
}</code></pre>
          </div>
          <div class="practice-editor">
            <textarea
              id="cps-practice"
              placeholder="ì—¬ê¸°ì— CPS ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”..."
            >
function multiplyCPS(x, y, callback) {
  // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
}</textarea
            >
            <div class="demo-controls">
              <button class="btn btn-primary" onclick="checkCPSPractice()">
                ê²€ì¦í•˜ê¸°
              </button>
              <button class="btn btn-secondary" onclick="showCPSHint()">
                íŒíŠ¸ ë³´ê¸°
              </button>
            </div>
            <div
              id="practice-result"
              class="output"
              style="display: none"
            ></div>
          </div>
        </div>
      </section>

      <!-- ë¹„ë™ê¸° CPS -->
      <section id="async-cps">
        <h2>â±ï¸ ë¹„ë™ê¸° ì—°ì† ì „ë‹¬ ë°©ì‹</h2>

        <div class="key-concept">
          <h4>ğŸ’¡ í•µì‹¬ ê°œë…</h4>
          <p>
            ë¹„ë™ê¸° ì‘ì—…ì—ì„œ CPSì˜ ì§„ê°€ê°€ ë°œíœ˜ë©ë‹ˆë‹¤. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ë²¤íŠ¸
            ë£¨í”„ë¥¼ í†µí•´ ì½œë°±ì´ í˜¸ì¶œë˜ë©°, <strong>í´ë¡œì €</strong> ë•ë¶„ì— ì›ë˜
            ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.
          </p>
        </div>

        <h3>ğŸ“‹ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì‹¤í–‰ íë¦„</h3>

        <div class="code-container">
          <div class="code-header">
            <span>ğŸ’» ë¹„ë™ê¸° ì½œë°± ì˜ˆì œ</span>
            <button class="run-btn" onclick="runAsyncDemo()">ì‹¤í–‰</button>
          </div>
          <pre><code>function addAsync(a, b, callback) {
  console.log('â³ 1ì´ˆ í›„ ê³„ì‚° ì‹œì‘...');
  setTimeout(() => {
    const result = a + b;
    callback(result);
  }, 1000);
}

console.log('ğŸŸ¢ Start');
addAsync(2, 3, (result) => {
  console.log(\`âœ… Result: \${result}\`);
});
console.log('ğŸ”µ End');</code></pre>
          <div id="output-async" class="output"></div>
        </div>

        <div class="warning-box">
          <strong>âš ï¸ ì¶œë ¥ ìˆœì„œë¥¼ ì˜ˆì¸¡í•´ë³´ì„¸ìš”!</strong>
          <p style="margin-top: 10px">
            ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–¤ ìˆœì„œë¡œ ì¶œë ¥ë ê¹Œìš”? ì‹¤í–‰ ë²„íŠ¼ì„ ëˆŒëŸ¬
            í™•ì¸í•´ë³´ì„¸ìš”.
          </p>
        </div>

        <h3>ğŸ”„ ì´ë²¤íŠ¸ ë£¨í”„ ì‹œê°í™”</h3>
        <div class="visualization">
          <h4 style="margin-bottom: 15px">ì‹¤í–‰ íë¦„ ë¶„ì„</h4>
          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-marker">1</div>
              <div class="timeline-content">
                <strong>console.log('Start')</strong> - ë™ê¸° ì‹¤í–‰
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-marker">2</div>
              <div class="timeline-content">
                <strong>addAsync() í˜¸ì¶œ</strong> - setTimeout ë“±ë¡ í›„ ì¦‰ì‹œ ë°˜í™˜
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-marker">3</div>
              <div class="timeline-content">
                <strong>console.log('End')</strong> - ë™ê¸° ì‹¤í–‰
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-marker">4</div>
              <div class="timeline-content">
                <strong>1ì´ˆ í›„ ì½œë°± ì‹¤í–‰</strong> - ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì½œë°±ì„ íì—ì„œ
                êº¼ë‚´ ì‹¤í–‰
              </div>
            </div>
          </div>
        </div>

        <h3>ğŸ§  í´ë¡œì €ì™€ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€</h3>
        <div class="interactive-demo">
          <p>í´ë¡œì €ê°€ ì–´ë–»ê²Œ ë¹„ë™ê¸° ì½œë°±ì—ì„œ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ”ì§€ ì‹¤í—˜í•´ë´…ì‹œë‹¤:</p>
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» í´ë¡œì € ì‹¤í—˜</span>
              <button class="run-btn" onclick="runClosureDemo()">ì‹¤í–‰</button>
            </div>
            <pre><code>function asyncWithClosure() {
  const userName = 'Alice';  // ì™¸ë¶€ ë³€ìˆ˜
  const timestamp = Date.now();
  
  console.log('ë¹„ë™ê¸° ì‘ì—… ì‹œì‘...');
  
  setTimeout(() => {
    // 1ì´ˆ í›„ì—ë„ userNameê³¼ timestampì— ì ‘ê·¼ ê°€ëŠ¥!
    console.log(\`ì‚¬ìš©ì: \${userName}\`);
    console.log(\`ì‹œì‘ ì‹œê°„: \${timestamp}\`);
    console.log(\`í˜„ì¬ ì‹œê°„: \${Date.now()}\`);
    console.log(\`ê²½ê³¼ ì‹œê°„: \${Date.now() - timestamp}ms\`);
  }, 1000);
}

asyncWithClosure();</code></pre>
            <div id="output-closure" class="output"></div>
          </div>
        </div>

        <div class="info-box">
          <strong>ğŸ’¡ í´ë¡œì €ì˜ í˜</strong>
          <p style="margin-top: 10px">
            ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ë°˜í™˜ëœ í›„ì—ë„ ì½œë°±ì€ <strong>í´ë¡œì €</strong>ë¥¼ í†µí•´
            ì›ë˜ í•¨ìˆ˜ì˜ ë³€ìˆ˜ë“¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„
            ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤!
          </p>
        </div>

        <h3>ğŸ“Š ë™ê¸° vs ë¹„ë™ê¸° ë¹„êµ</h3>
        <div class="tabs">
          <button class="tab active" onclick="switchTab(event, 'sync-compare')">
            ë™ê¸° í•¨ìˆ˜
          </button>
          <button class="tab" onclick="switchTab(event, 'async-compare')">
            ë¹„ë™ê¸° í•¨ìˆ˜
          </button>
        </div>

        <div id="sync-compare" class="tab-content active">
          <table
            style="width: 100%; border-collapse: collapse; margin-top: 15px"
          >
            <tr style="background: var(--bg-light)">
              <th
                style="
                  padding: 12px;
                  border: 1px solid var(--border);
                  text-align: left;
                "
              >
                íŠ¹ì§•
              </th>
              <th
                style="
                  padding: 12px;
                  border: 1px solid var(--border);
                  text-align: left;
                "
              >
                ì„¤ëª…
              </th>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì‹¤í–‰ ë°©ì‹</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ì¡°ì‘ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë¸”ë¡œí‚¹(ëŒ€ê¸°)
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì œì–´ íë¦„</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ìˆœì°¨ì , ì˜ˆì¸¡ ê°€ëŠ¥
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì½œ ìŠ¤íƒ</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ë‹¨ì¼ ì½œ ìŠ¤íƒ ë‚´ì—ì„œ ì™„ë£Œ
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ê°„ë‹¨í•œ ê³„ì‚°, ì¦‰ì‹œ ì™„ë£Œ ê°€ëŠ¥í•œ ì‘ì—…
              </td>
            </tr>
          </table>
        </div>

        <div id="async-compare" class="tab-content">
          <table
            style="width: 100%; border-collapse: collapse; margin-top: 15px"
          >
            <tr style="background: var(--bg-light)">
              <th
                style="
                  padding: 12px;
                  border: 1px solid var(--border);
                  text-align: left;
                "
              >
                íŠ¹ì§•
              </th>
              <th
                style="
                  padding: 12px;
                  border: 1px solid var(--border);
                  text-align: left;
                "
              >
                ì„¤ëª…
              </th>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì‹¤í–‰ ë°©ì‹</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ì œì–´ë¥¼ ì¦‰ì‹œ ë°˜í™˜, ë…¼ë¸”ë¡œí‚¹
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì œì–´ íë¦„</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ í†µí•´ ì¬ê°œë¨
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì½œ ìŠ¤íƒ</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                ìƒˆë¡œìš´ ìŠ¤íƒì—ì„œ ì½œë°± ì‹¤í–‰
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                I/O ì‘ì—…, ë„¤íŠ¸ì›Œí¬ ìš”ì²­, íƒ€ì´ë¨¸
              </td>
            </tr>
          </table>
        </div>

        <div class="quiz">
          <div class="quiz-question">ğŸ§© í€´ì¦ˆ: ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ìˆœì„œëŠ”?</div>
          <pre
            style="
              background: white;
              padding: 15px;
              border-radius: 4px;
              border: 1px solid #90caf9;
            "
          ><code>console.log('A');
setTimeout(() => console.log('B'), 0);
console.log('C');</code></pre>
          <div class="quiz-option" onclick="checkQuizAnswer(this, false)">
            A â†’ B â†’ C
          </div>
          <div class="quiz-option" onclick="checkQuizAnswer(this, true)">
            A â†’ C â†’ B
          </div>
          <div class="quiz-option" onclick="checkQuizAnswer(this, false)">
            B â†’ A â†’ C
          </div>
          <div
            id="quiz-1-feedback"
            style="
              margin-top: 15px;
              padding: 10px;
              border-radius: 4px;
              display: none;
            "
          ></div>
        </div>
      </section>

      <!-- ë¹„ì—°ì† ì „ë‹¬ ë°©ì‹ -->
      <section id="non-cps">
        <h2>ğŸ”€ ë¹„ì—°ì† ì „ë‹¬(Non-CPS) ë°©ì‹</h2>

        <div class="key-concept">
          <h4>ğŸ’¡ í•µì‹¬ ê°œë…</h4>
          <p>
            ëª¨ë“  ì½œë°±ì´ CPSëŠ” ì•„ë‹™ë‹ˆë‹¤! ì½œë°±ì´ ë‹¨ìˆœíˆ ë°˜ë³µì´ë‚˜ ë³€í™˜ì—ë§Œ ì‚¬ìš©ë˜ê³ 
            <strong>ì—°ì‚° ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šìœ¼ë©´</strong> Non-CPSì…ë‹ˆë‹¤.
          </p>
        </div>

        <h3>ğŸ“ CPS vs Non-CPS êµ¬ë¶„í•˜ê¸°</h3>

        <div class="tabs">
          <button
            class="tab active"
            onclick="switchTab(event, 'non-cps-example')"
          >
            Non-CPS ì˜ˆì œ
          </button>
          <button class="tab" onclick="switchTab(event, 'cps-example-comp')">
            CPS ì˜ˆì œ
          </button>
        </div>

        <div id="non-cps-example" class="tab-content active">
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» Non-CPS: map í•¨ìˆ˜</span>
              <button class="run-btn" onclick="runCode('non-cps')">ì‹¤í–‰</button>
            </div>
            <pre><code>// ì½œë°±ì€ ë°°ì—´ ìš”ì†Œ ë³€í™˜ì—ë§Œ ì‚¬ìš©
// ê²°ê³¼ëŠ” mapì´ ì§ì ‘ ë°˜í™˜
const numbers = [1, 3, 5];
const result = numbers.map((x) => x * 2);

console.log('ì›ë³¸:', numbers);
console.log('ê²°ê³¼:', result);  // [2, 6, 10]
console.log('íƒ€ì…:', typeof result);  // object (array)</code></pre>
            <div id="output-non-cps" class="output"></div>
          </div>
          <div class="info-box" style="margin-top: 15px">
            <strong>âœ… Non-CPSì˜ íŠ¹ì§•</strong>
            <ul style="margin-left: 20px; margin-top: 10px">
              <li>ì½œë°±ì´ ê° ìš”ì†Œë¥¼ ì²˜ë¦¬í•˜ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©</li>
              <li>ìµœì¢… ê²°ê³¼ëŠ” í•¨ìˆ˜ê°€ <strong>ì§ì ‘ ë°˜í™˜</strong></li>
              <li>ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¨</li>
              <li>CPS ìŠ¤íƒ€ì¼ì´ <strong>ì•„ë‹˜</strong></li>
            </ul>
          </div>
        </div>

        <div id="cps-example-comp" class="tab-content">
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» CPS: forEach with callback</span>
              <button class="run-btn" onclick="runCode('cps-comp')">
                ì‹¤í–‰
              </button>
            </div>
            <pre><code>// CPS ìŠ¤íƒ€ì¼: ê²°ê³¼ë¥¼ ì½œë°±ìœ¼ë¡œ ì „ë‹¬
function processArrayCPS(arr, processor, callback) {
  const results = [];
  
  arr.forEach(item => {
    results.push(processor(item));
  });
  
  // ìµœì¢… ê²°ê³¼ë¥¼ ì½œë°±ì— ì „ë‹¬
  callback(results);
}

const numbers = [1, 3, 5];
processArrayCPS(
  numbers,
  x => x * 2,
  (result) => {
    console.log('CPS ê²°ê³¼:', result);  // [2, 6, 10]
  }
);</code></pre>
            <div id="output-cps-comp" class="output"></div>
          </div>
          <div class="info-box" style="margin-top: 15px">
            <strong>âœ… CPSì˜ íŠ¹ì§•</strong>
            <ul style="margin-left: 20px; margin-top: 10px">
              <li>ê²°ê³¼ë¥¼ í•¨ìˆ˜ê°€ ì§ì ‘ ë°˜í™˜í•˜ì§€ ì•ŠìŒ</li>
              <li>ìµœì¢… ê²°ê³¼ë¥¼ <strong>ì½œë°±ìœ¼ë¡œ ì „ë‹¬</strong></li>
              <li>ì œì–´ íë¦„ì´ ì½œë°±ìœ¼ë¡œ ì´ë™</li>
              <li>ë¹„ë™ê¸° ì‘ì—…ì— ì í•©í•œ íŒ¨í„´</li>
            </ul>
          </div>
        </div>

        <h3>ğŸ¯ ì‹¤ë¬´ ì˜ˆì œ: Array ë©”ì„œë“œ ë¶„ë¥˜</h3>
        <div class="interactive-demo">
          <p>
            <strong>ì—°ìŠµ:</strong> ë‹¤ìŒ Array ë©”ì„œë“œë“¤ì„ CPS/Non-CPSë¡œ
            ë¶„ë¥˜í•´ë³´ì„¸ìš”
          </p>
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 15px;
              margin: 20px 0;
            "
          >
            <div
              style="
                padding: 15px;
                background: white;
                border: 2px solid var(--border);
                border-radius: 6px;
                cursor: pointer;
              "
              onclick="classifyMethod(this, 'non-cps')"
            >
              <strong>map()</strong>
              <p style="font-size: 0.9em; color: #666; margin-top: 5px">
                ë°°ì—´ ë³€í™˜
              </p>
            </div>
            <div
              style="
                padding: 15px;
                background: white;
                border: 2px solid var(--border);
                border-radius: 6px;
                cursor: pointer;
              "
              onclick="classifyMethod(this, 'non-cps')"
            >
              <strong>filter()</strong>
              <p style="font-size: 0.9em; color: #666; margin-top: 5px">
                ìš”ì†Œ í•„í„°ë§
              </p>
            </div>
            <div
              style="
                padding: 15px;
                background: white;
                border: 2px solid var(--border);
                border-radius: 6px;
                cursor: pointer;
              "
              onclick="classifyMethod(this, 'non-cps')"
            >
              <strong>reduce()</strong>
              <p style="font-size: 0.9em; color: #666; margin-top: 5px">
                ê°’ ëˆ„ì 
              </p>
            </div>
            <div
              style="
                padding: 15px;
                background: white;
                border: 2px solid var(--border);
                border-radius: 6px;
                cursor: pointer;
              "
              onclick="classifyMethod(this, 'non-cps')"
            >
              <strong>find()</strong>
              <p style="font-size: 0.9em; color: #666; margin-top: 5px">
                ìš”ì†Œ ê²€ìƒ‰
              </p>
            </div>
          </div>
          <div class="info-box">
            <strong>ğŸ’¡ íŒíŠ¸:</strong> ì´ ë©”ì„œë“œë“¤ì€ ëª¨ë‘ ê²°ê³¼ë¥¼ ì§ì ‘ ë°˜í™˜í•©ë‹ˆë‹¤.
            ì½œë°±ì€ ê° ìš”ì†Œë¥¼ ì²˜ë¦¬í•˜ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©ë˜ë¯€ë¡œ ëª¨ë‘
            <strong>Non-CPS</strong>ì…ë‹ˆë‹¤!
          </div>
        </div>
      </section>

      <!-- Node.js ì½œë°± ê·œì¹™ -->
      <section id="nodejs-conventions">
        <h2>ğŸ“œ Node.js ì½œë°± ê·œì¹™</h2>

        <div class="key-concept">
          <h4>ğŸ’¡ í•µì‹¬ ê°œë…</h4>
          <p>
            Node.jsëŠ” ì¼ê´€ì„± ìˆëŠ” ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•´ ì½œë°± ê·œì¹™ì„
            ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ ê·œì¹™ì„ ë”°ë¥´ë©´ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í• 
            ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>

        <h3>ğŸ“Œ ê·œì¹™ 1: ì½œë°±ì€ í•­ìƒ ë§ˆì§€ë§‰ ì¸ìˆ˜</h3>
        <div class="code-container">
          <div class="code-header">
            <span>ğŸ’» ì½œë°± ìœ„ì¹˜ ê·œì¹™</span>
          </div>
          <pre><code>// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
fs.readFile(filename, encoding, callback);
fs.writeFile(filename, data, options, callback);

// âŒ ì˜ëª»ëœ ì‚¬ìš©
fs.readFile(callback, filename, encoding);  // NO!
fs.readFile(filename, callback, encoding);  // NO!</code></pre>
        </div>

        <h3>âš ï¸ ê·œì¹™ 2: ì—ëŸ¬ ìš°ì„  ì½œë°± (Error-First Callback)</h3>
        <div
          class="key-concept"
          style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)"
        >
          <h4>ğŸš¨ ê°€ì¥ ì¤‘ìš”í•œ ê·œì¹™!</h4>
          <p>
            ì½œë°±ì˜ <strong>ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” í•­ìƒ ì—ëŸ¬ ê°ì²´</strong>ì…ë‹ˆë‹¤. ì„±ê³µ
            ì‹œì—ëŠ” null ë˜ëŠ” undefinedë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="code-container">
          <div class="code-header">
            <span>ğŸ’» ì—ëŸ¬ ìš°ì„  ì½œë°± íŒ¨í„´</span>
            <button class="run-btn" onclick="runErrorFirstDemo()">ì‹¤í–‰</button>
          </div>
          <pre><code>// Node.js í‘œì¤€ íŒ¨í„´
function readFileAsync(filename, callback) {
  // íŒŒì¼ ì½ê¸° ì‹œë®¬ë ˆì´ì…˜
  setTimeout(() => {
    if (filename === 'error.txt') {
      // ì—ëŸ¬ ë°œìƒ ì‹œ: ì²« ë²ˆì§¸ ì¸ìˆ˜ì— ì—ëŸ¬ ì „ë‹¬
      callback(new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤'));
    } else {
      // ì„±ê³µ ì‹œ: ì²« ë²ˆì§¸ëŠ” null, ë‘ ë²ˆì§¸ì— ê²°ê³¼
      callback(null, 'íŒŒì¼ ë‚´ìš©ì…ë‹ˆë‹¤');
    }
  }, 500);
}

// ì˜¬ë°”ë¥¸ ì‚¬ìš©ë²•
readFileAsync('test.txt', (err, data) => {
  if (err) {
    console.error('âŒ ì—ëŸ¬ ë°œìƒ:', err.message);
    return;  // ì—ëŸ¬ ì²˜ë¦¬ í›„ ì¦‰ì‹œ ë°˜í™˜
  }
  console.log('âœ… ì„±ê³µ:', data);
});

// ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
readFileAsync('error.txt', (err, data) => {
  if (err) {
    console.error('âŒ ì—ëŸ¬ ë°œìƒ:', err.message);
    return;
  }
  console.log('âœ… ì„±ê³µ:', data);
});</code></pre>
          <div id="output-error-first" class="output"></div>
        </div>

        <h3>ğŸ¯ ì‹¤ë¬´ íŒ¨í„´: ì—ëŸ¬ ì²˜ë¦¬</h3>
        <div class="tabs">
          <button
            class="tab active"
            onclick="switchTab(event, 'error-handling-good')"
          >
            âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´
          </button>
          <button class="tab" onclick="switchTab(event, 'error-handling-bad')">
            âŒ ì˜ëª»ëœ íŒ¨í„´
          </button>
        </div>

        <div id="error-handling-good" class="tab-content active">
          <div class="code-container">
            <pre><code>// âœ… ì˜¬ë°”ë¥¸ ì—ëŸ¬ ì²˜ë¦¬
fs.readFile('config.json', 'utf8', (err, data) => {
  if (err) {
    // Fail-fast: ì—ëŸ¬ë¥¼ ì¦‰ì‹œ ì²˜ë¦¬
    console.error('ì„¤ì • íŒŒì¼ ì½ê¸° ì‹¤íŒ¨:', err);
    return;  // ë˜ëŠ” throw err
  }
  
  // ì •ìƒ ì²˜ë¦¬
  try {
    const config = JSON.parse(data);
    console.log('ì„¤ì • ë¡œë“œ ì™„ë£Œ:', config);
  } catch (parseError) {
    console.error('JSON íŒŒì‹± ì‹¤íŒ¨:', parseError);
  }
});</code></pre>
          </div>
          <div class="info-box" style="margin-top: 15px">
            <strong>âœ… ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</strong>
            <ul style="margin-left: 20px; margin-top: 10px">
              <li>
                <strong>Fail-Fast:</strong> ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì²˜ë¦¬í•˜ê³  ì¢…ë£Œ
              </li>
              <li>ì—ëŸ¬ ì²´í¬ í›„ <code>return</code>ìœ¼ë¡œ ì¡°ê¸° ë°˜í™˜</li>
              <li>ì •ìƒ ì²˜ë¦¬ ë¡œì§ê³¼ ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ì„ ëª…í™•íˆ ë¶„ë¦¬</li>
              <li>ì˜ë¯¸ ìˆëŠ” ì—ëŸ¬ ë©”ì‹œì§€ ë¡œê¹…</li>
            </ul>
          </div>
        </div>

        <div id="error-handling-bad" class="tab-content">
          <div class="code-container">
            <pre><code>// âŒ ì˜ëª»ëœ ì—ëŸ¬ ì²˜ë¦¬
fs.readFile('config.json', 'utf8', (err, data) => {
  // ì—ëŸ¬ë¥¼ ë¬´ì‹œ!
  const config = JSON.parse(data);  // dataê°€ undefinedë©´ í¬ë˜ì‹œ!
  console.log(config);
});

// âŒ else ë¸”ë¡ ì‚¬ìš© (ë¶ˆí•„ìš”í•œ ì¤‘ì²©)
fs.readFile('config.json', 'utf8', (err, data) => {
  if (err) {
    console.error(err);
  } else {
    // ì¤‘ì²©ëœ ë¸”ë¡ì€ ê°€ë…ì„± ì €í•˜
    const config = JSON.parse(data);
    console.log(config);
  }
});

// âŒ ì—ëŸ¬ë¥¼ ì œëŒ€ë¡œ ì „íŒŒí•˜ì§€ ì•ŠìŒ
function loadConfig(callback) {
  fs.readFile('config.json', 'utf8', (err, data) => {
    if (err) {
      console.log('íŒŒì¼ ì—†ìŒ');  // ì—ëŸ¬ë¥¼ ë¡œê·¸ë§Œ í•˜ê³  ì „íŒŒ ì•ˆ í•¨!
      return;
    }
    callback(null, JSON.parse(data));
  });
}</code></pre>
          </div>
          <div class="danger-box" style="margin-top: 15px">
            <strong>âŒ í”¼í•´ì•¼ í•  íŒ¨í„´</strong>
            <ul style="margin-left: 20px; margin-top: 10px">
              <li>ì—ëŸ¬ë¥¼ ë¬´ì‹œí•˜ê±°ë‚˜ ë¡œê·¸ë§Œ í•˜ê³  ì „íŒŒí•˜ì§€ ì•ŠìŒ</li>
              <li>ë¶ˆí•„ìš”í•œ else ë¸”ë¡ìœ¼ë¡œ ì½”ë“œ ì¤‘ì²©ë„ ì¦ê°€</li>
              <li>ì—ëŸ¬ ìƒí™©ì—ì„œ ì •ìƒ ì²˜ë¦¬ ë¡œì§ ì‹¤í–‰</li>
              <li>ì˜ë¯¸ ì—†ëŠ” ì—ëŸ¬ ë©”ì‹œì§€</li>
            </ul>
          </div>
        </div>

        <h3>ğŸ”„ ì—ëŸ¬ ì „íŒŒ íŒ¨í„´</h3>
        <div class="interactive-demo">
          <p>
            <strong>ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤:</strong> ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ
            ìˆ˜í–‰í•˜ë©° ì—ëŸ¬ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì „íŒŒí•˜ê¸°
          </p>
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» ì—ëŸ¬ ì „íŒŒ ì˜ˆì œ</span>
              <button class="run-btn" onclick="runErrorPropagation()">
                ì‹¤í–‰
              </button>
            </div>
            <pre><code>// ë°ì´í„°ë² ì´ìŠ¤ ì‹œë®¬ë ˆì´ì…˜
const fakeDB = {
  users: { '1': { name: 'Alice', profileId: '100' } },
  profiles: { '100': { bio: 'Software Engineer' } }
};

function getUser(userId, callback) {
  setTimeout(() => {
    const user = fakeDB.users[userId];
    if (!user) {
      return callback(new Error(\`ì‚¬ìš©ì \${userId}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\`));
    }
    callback(null, user);
  }, 300);
}

function getProfile(profileId, callback) {
  setTimeout(() => {
    const profile = fakeDB.profiles[profileId];
    if (!profile) {
      return callback(new Error(\`í”„ë¡œí•„ \${profileId}ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\`));
    }
    callback(null, profile);
  }, 300);
}

// ì—ëŸ¬ ì „íŒŒ ì²´ì¸
function getUserWithProfile(userId, callback) {
  getUser(userId, (err, user) => {
    if (err) {
      // ì—ëŸ¬ë¥¼ ìƒìœ„ë¡œ ì „íŒŒ
      return callback(err);
    }
    
    getProfile(user.profileId, (err, profile) => {
      if (err) {
        // ì—ëŸ¬ë¥¼ ìƒìœ„ë¡œ ì „íŒŒ
        return callback(err);
      }
      
      // ì„±ê³µ: ê²°í•©ëœ ë°ì´í„° ë°˜í™˜
      callback(null, { ...user, profile });
    });
  });
}

// í…ŒìŠ¤íŠ¸
getUserWithProfile('1', (err, data) => {
  if (err) {
    console.error('âŒ ì‹¤íŒ¨:', err.message);
    return;
  }
  console.log('âœ… ì„±ê³µ:', JSON.stringify(data, null, 2));
});

// ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
getUserWithProfile('999', (err, data) => {
  if (err) {
    console.error('âŒ ì‹¤íŒ¨:', err.message);
    return;
  }
  console.log('âœ… ì„±ê³µ:', JSON.stringify(data, null, 2));
});</code></pre>
            <div id="output-error-prop" class="output"></div>
          </div>
        </div>

        <div class="quiz">
          <div class="quiz-question">
            ğŸ§© í€´ì¦ˆ: ë‹¤ìŒ ì¤‘ ì˜¬ë°”ë¥¸ Node.js ì½œë°± íŒ¨í„´ì€?
          </div>
          <div class="quiz-option" onclick="checkQuizAnswer(this, false)">
            <code>callback(data, null)</code>
          </div>
          <div class="quiz-option" onclick="checkQuizAnswer(this, true)">
            <code>callback(null, data)</code>
          </div>
          <div class="quiz-option" onclick="checkQuizAnswer(this, false)">
            <code>callback(data)</code>
          </div>
          <div
            id="quiz-2-feedback"
            style="
              margin-top: 15px;
              padding: 10px;
              border-radius: 4px;
              display: none;
            "
          ></div>
        </div>
      </section>

      <!-- Zalgo ì„¹ì…˜ (ë¶€ë¡ ìŠ¤íƒ€ì¼) -->
      <section id="zalgo" class="appendix">
        <h2>ğŸ‘¹ ë¶€ë¡: Zalgo ë¬¸ì œì™€ í•´ê²°ì±…</h2>

        <div class="danger-box">
          <h4>âš ï¸ "Releasing Zalgo"ë€?</h4>
          <p style="margin-top: 10px">
            ë™ê¸°ì™€ ë¹„ë™ê¸° APIë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ì§€ ì•Šì•„
            <strong>ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ë™ì‘</strong>ì´ ë°œìƒí•˜ëŠ” ì•ˆí‹°íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ”
            Isaac Z. Schlueter(npm ì°½ì‹œì)ê°€ ëª…ëª…í•œ ê°œë…ìœ¼ë¡œ, ì½”ë“œì˜ ë™ì‘ì„
            ì˜ˆì¸¡í•  ìˆ˜ ì—†ê²Œ ë§Œë“œëŠ” ì‹¬ê°í•œ ë¬¸ì œì…ë‹ˆë‹¤.
          </p>
        </div>

        <h3>ğŸ› ë¬¸ì œ ìƒí™©: Zalgoê°€ ë°œìƒí•˜ëŠ” ì½”ë“œ</h3>
        <div class="code-container">
          <div class="code-header">
            <span>ğŸ’» ìœ„í—˜í•œ íŒ¨í„´: ë™ê¸°/ë¹„ë™ê¸° í˜¼ì¬</span>
            <button class="run-btn" onclick="runZalgoDemo('bad')">ì‹¤í–‰</button>
          </div>
          <pre><code>// âŒ ìœ„í—˜: ìºì‹œ ì—¬ë¶€ì— ë”°ë¼ ë™ê¸°/ë¹„ë™ê¸°ê°€ ë‹¬ë¼ì§!
const cache = {};

function readFileUnpredictable(filename, callback) {
  if (cache[filename]) {
    // ìºì‹œ ìˆìŒ: ë™ê¸°ì ìœ¼ë¡œ ì¦‰ì‹œ ì½œë°± í˜¸ì¶œ
    console.log('ğŸ“¦ ìºì‹œì—ì„œ ì½ìŒ (ë™ê¸°)');
    callback(null, cache[filename]);
  } else {
    // ìºì‹œ ì—†ìŒ: ë¹„ë™ê¸°ì ìœ¼ë¡œ íŒŒì¼ ì½ê¸°
    console.log('ğŸ“ íŒŒì¼ì—ì„œ ì½ìŒ (ë¹„ë™ê¸°)');
    setTimeout(() => {
      const data = \`ë‚´ìš©: \${filename}\`;
      cache[filename] = data;
      callback(null, data);
    }, 500);
  }
}

// ë¬¸ì œ ë°œìƒ!
let counter = 0;

console.log('=== ì²« ë²ˆì§¸ í˜¸ì¶œ (ìºì‹œ ì—†ìŒ) ===');
readFileUnpredictable('test.txt', (err, data) => {
  console.log(\`ì½œë°± ì‹¤í–‰, counter: \${counter}\`);
});
counter++;
console.log(\`ë™ê¸° ì½”ë“œ, counter: \${counter}\`);

// ì ì‹œ í›„ ë‘ ë²ˆì§¸ í˜¸ì¶œ
setTimeout(() => {
  counter = 0;
  console.log('\\n=== ë‘ ë²ˆì§¸ í˜¸ì¶œ (ìºì‹œ ìˆìŒ) ===');
  readFileUnpredictable('test.txt', (err, data) => {
    console.log(\`ì½œë°± ì‹¤í–‰, counter: \${counter}\`);
  });
  counter++;
  console.log(\`ë™ê¸° ì½”ë“œ, counter: \${counter}\`);
}, 1500);</code></pre>
          <div id="output-zalgo-bad" class="output"></div>
        </div>

        <div class="warning-box">
          <strong>ğŸ¤¯ ë¬´ì—‡ì´ ë¬¸ì œì¸ê°€?</strong>
          <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8">
            <li>
              <strong>ì²« ë²ˆì§¸ í˜¸ì¶œ:</strong> ë¹„ë™ê¸° â†’ counterê°€ ë¨¼ì € ì¦ê°€í•˜ê³ 
              ë‚˜ì¤‘ì— ì½œë°± ì‹¤í–‰
            </li>
            <li>
              <strong>ë‘ ë²ˆì§¸ í˜¸ì¶œ:</strong> ë™ê¸° â†’ ì½œë°±ì´ ë¨¼ì € ì‹¤í–‰ë˜ê³  counter
              ì¦ê°€
            </li>
            <li>
              <strong>ê²°ê³¼:</strong> ê°™ì€ í•¨ìˆ˜ì¸ë° ì‹¤í–‰ ìˆœì„œê°€ ë‹¬ë¼ì ¸ ë²„ê·¸ ë°œìƒ!
            </li>
          </ul>
        </div>

        <h3>âœ… í•´ê²°ì±… 1: process.nextTick() ì‚¬ìš©</h3>
        <div class="code-container">
          <div class="code-header">
            <span>ğŸ’» í•´ê²°ì±…: í•­ìƒ ë¹„ë™ê¸°ë¡œ ë§Œë“¤ê¸°</span>
            <button class="run-btn" onclick="runZalgoDemo('good')">ì‹¤í–‰</button>
          </div>
          <pre><code>// âœ… ì•ˆì „: í•­ìƒ ë¹„ë™ê¸°ë¡œ ë™ì‘
const cache = {};

function readFilePredictable(filename, callback) {
  if (cache[filename]) {
    // ìºì‹œê°€ ìˆì–´ë„ nextTickìœ¼ë¡œ ë¹„ë™ê¸°í™”!
    console.log('ğŸ“¦ ìºì‹œì—ì„œ ì½ìŒ (ë¹„ë™ê¸°í™”ë¨)');
    process.nextTick(() => {
      callback(null, cache[filename]);
    });
  } else {
    console.log('ğŸ“ íŒŒì¼ì—ì„œ ì½ìŒ (ë¹„ë™ê¸°)');
    setTimeout(() => {
      const data = \`ë‚´ìš©: \${filename}\`;
      cache[filename] = data;
      callback(null, data);
    }, 500);
  }
}

// ì¼ê´€ëœ ë™ì‘
let counter = 0;

console.log('=== ì²« ë²ˆì§¸ í˜¸ì¶œ ===');
readFilePredictable('test.txt', (err, data) => {
  console.log(\`ì½œë°± ì‹¤í–‰, counter: \${counter}\`);
});
counter++;
console.log(\`ë™ê¸° ì½”ë“œ, counter: \${counter}\`);

setTimeout(() => {
  counter = 0;
  console.log('\\n=== ë‘ ë²ˆì§¸ í˜¸ì¶œ ===');
  readFilePredictable('test.txt', (err, data) => {
    console.log(\`ì½œë°± ì‹¤í–‰, counter: \${counter}\`);
  });
  counter++;
  console.log(\`ë™ê¸° ì½”ë“œ, counter: \${counter}\`);
}, 1500);</code></pre>
          <div id="output-zalgo-good" class="output"></div>
        </div>

        <h3>ğŸ”§ í•´ê²°ì±… 2: ë™ê¸° API ì‚¬ìš© (ê°€ëŠ¥í•œ ê²½ìš°)</h3>
        <div class="code-container">
          <pre><code>// í•¨ìˆ˜ê°€ ë™ê¸°ì‹ì´ë©´ CPS ë¶ˆí•„ìš”
const cache = {};

function readFileSync(filename) {
  if (!cache[filename]) {
    // ì‹¤ì œë¡œëŠ” fs.readFileSync ì‚¬ìš©
    cache[filename] = \`ë‚´ìš©: \${filename}\`;
  }
  return cache[filename];  // ì§ì ‘ ë°˜í™˜
}

// ì‚¬ìš©: ê°„ë‹¨í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥
const data = readFileSync('test.txt');
console.log(data);</code></pre>
        </div>

        <div class="warning-box">
          <strong>âš ï¸ ë™ê¸° API ì£¼ì˜ì‚¬í•­</strong>
          <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8">
            <li>ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ë¸”ë¡œí‚¹í•˜ì—¬ ë™ì‹œ ìš”ì²­ì„ ë³´ë¥˜í•¨</li>
            <li>Node.jsì˜ ë™ì‹œì„± ëª¨ë¸ì„ ìœ„ë°˜í•  ìˆ˜ ìˆìŒ</li>
            <li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŒ</li>
            <li>
              <strong>ê¶Œì¥:</strong> ì´ˆê¸°í™”ë‚˜ ì„¤ì • ë¡œë“œì²˜ëŸ¼ ì‹œì‘ ì‹œì ì—ë§Œ ì‚¬ìš©
            </li>
          </ul>
        </div>

        <h3>âš¡ process.nextTick() vs setImmediate()</h3>
        <div class="visualization">
          <h4>ì‹¤í–‰ íƒ€ì´ë° ë¹„êµ</h4>
          <table
            style="width: 100%; border-collapse: collapse; margin-top: 15px"
          >
            <tr style="background: var(--bg-light)">
              <th style="padding: 12px; border: 1px solid var(--border)">
                API
              </th>
              <th style="padding: 12px; border: 1px solid var(--border)">
                ì‹¤í–‰ ì‹œì 
              </th>
              <th style="padding: 12px; border: 1px solid var(--border)">
                ìš°ì„ ìˆœìœ„
              </th>
              <th style="padding: 12px; border: 1px solid var(--border)">
                ì£¼ì˜ì‚¬í•­
              </th>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>process.nextTick()</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                í˜„ì¬ ì‘ì—… ì™„ë£Œ ì§í›„
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                I/Oë³´ë‹¤ ë†’ìŒ (ë§ˆì´í¬ë¡œíƒœìŠ¤í¬)
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                âš ï¸ ì¬ê·€ í˜¸ì¶œ ì‹œ I/O ê¸°ì•„ í˜„ìƒ ê°€ëŠ¥
              </td>
            </tr>
            <tr>
              <td style="padding: 12px; border: 1px solid var(--border)">
                <strong>setImmediate()</strong>
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                í˜„ì¬ ì´ë²¤íŠ¸ ë£¨í”„ ì‚¬ì´í´ ì™„ë£Œ í›„
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                I/O ì´ë²¤íŠ¸ í›„ (ë§¤í¬ë¡œíƒœìŠ¤í¬)
              </td>
              <td style="padding: 12px; border: 1px solid var(--border)">
                âœ… I/Oë¥¼ ë°©í•´í•˜ì§€ ì•ŠìŒ
              </td>
            </tr>
          </table>
        </div>

        <div class="interactive-demo">
          <p>
            <strong>ì‹¤í—˜:</strong> nextTickê³¼ setImmediateì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì§ì ‘
            í™•ì¸í•´ë³´ì„¸ìš”
          </p>
          <div class="code-container">
            <div class="code-header">
              <span>ğŸ’» ì‹¤í–‰ ìˆœì„œ ë¹„êµ</span>
              <button class="run-btn" onclick="runTickVsImmediate()">
                ì‹¤í–‰
              </button>
            </div>
            <pre><code>console.log('1. ë™ê¸° ì½”ë“œ ì‹œì‘');

setImmediate(() => {
  console.log('4. setImmediate');
});

process.nextTick(() => {
  console.log('3. nextTick');
});

console.log('2. ë™ê¸° ì½”ë“œ ë');</code></pre>
            <div id="output-tick-immediate" class="output"></div>
          </div>
        </div>

        <div class="info-box">
          <strong>ğŸ“š ì¶”ê°€ ìë£Œ</strong>
          <ul style="margin-left: 20px; margin-top: 10px">
            <li>
              <a
                href="https://blog.izs.me/2013/08/designing-apis-for-asynchrony/"
                target="_blank"
                >Designing APIs for Asynchrony (Isaac Z. Schlueter)</a
              >
            </li>
            <li>
              <a
                href="https://en.wikipedia.org/wiki/Continuation-passing_style"
                target="_blank"
                >Wikipedia: Continuation-passing style</a
              >
            </li>
          </ul>
        </div>
      </section>

      <!-- ì‹¤ìŠµ ì„¹ì…˜ -->
      <section id="practice">
        <h2>ğŸ’ª ì‹¤ìŠµ ê³¼ì œ</h2>

        <div class="key-concept">
          <h4>ğŸ¯ í•™ìŠµ ëª©í‘œ ë‹¬ì„±ë„ ì²´í¬</h4>
          <p>ë‹¤ìŒ ì‹¤ìŠµ ê³¼ì œë¥¼ í†µí•´ ë°°ìš´ ë‚´ìš©ì„ ì‹¤ì „ì— ì ìš©í•´ë³´ì„¸ìš”!</p>
        </div>

        <h3>ğŸ“ ê³¼ì œ 1: ì•ˆì „í•œ ë¹„ë™ê¸° ìºì‹œ êµ¬í˜„</h3>
        <div class="practice-editor">
          <p><strong>ìš”êµ¬ì‚¬í•­:</strong></p>
          <ul style="margin-left: 20px; margin-bottom: 15px">
            <li>ì—ëŸ¬ ìš°ì„  ì½œë°± íŒ¨í„´ ì‚¬ìš©</li>
            <li>Zalgoë¥¼ ë°©ì§€í•˜ì—¬ í•­ìƒ ë¹„ë™ê¸°ë¡œ ë™ì‘</li>
            <li>ì ì ˆí•œ ì—ëŸ¬ ì²˜ë¦¬</li>
          </ul>
          <textarea
            id="practice-1"
            placeholder="ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”..."
            style="min-height: 250px"
          >
function cachedFetch(url, callback) {
  // TODO: ìºì‹œ ë¡œì§ êµ¬í˜„
  // 1. ìºì‹œì— ìˆìœ¼ë©´ process.nextTickìœ¼ë¡œ ë¹„ë™ê¸° ë°˜í™˜
  // 2. ì—†ìœ¼ë©´ setTimeoutìœ¼ë¡œ ë¹„ë™ê¸° fetch ì‹œë®¬ë ˆì´ì…˜
  // 3. ì—ëŸ¬ ìš°ì„  ì½œë°± íŒ¨í„´ ì¤€ìˆ˜
}

// í…ŒìŠ¤íŠ¸ ì½”ë“œ
cachedFetch('https://api.example.com/data', (err, data) => {
  if (err) {
    console.error('Error:', err);
    return;
  }
  console.log('Data:', data);
});</textarea
          >
          <div class="demo-controls">
            <button class="btn btn-primary" onclick="testPractice1()">
              í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            </button>
            <button class="btn btn-secondary" onclick="showSolution1()">
              ì •ë‹µ ë³´ê¸°
            </button>
          </div>
          <div
            id="practice-1-result"
            class="output"
            style="display: none"
          ></div>
        </div>

        <h3>ğŸ“ ê³¼ì œ 2: ì—ëŸ¬ ì „íŒŒ ì²´ì¸</h3>
        <div class="practice-editor">
          <p>
            <strong>ì‹œë‚˜ë¦¬ì˜¤:</strong> ì‚¬ìš©ì ì¸ì¦ â†’ ê¶Œí•œ í™•ì¸ â†’ ë°ì´í„° ì¡°íšŒ
            ìˆœì„œë¡œ ì§„í–‰ë˜ëŠ” í•¨ìˆ˜ ì²´ì¸ì„ êµ¬í˜„í•˜ì„¸ìš”.
          </p>
          <textarea
            id="practice-2"
            placeholder="ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”..."
            style="min-height: 250px"
          >
function authenticate(username, password, callback) {
  // TODO: ì¸ì¦ ë¡œì§ (ë¹„ë™ê¸°)
}

function checkPermission(userId, resource, callback) {
  // TODO: ê¶Œí•œ í™•ì¸ (ë¹„ë™ê¸°)
}

function fetchData(userId, callback) {
  // TODO: ë°ì´í„° ì¡°íšŒ (ë¹„ë™ê¸°)
}

function getUserData(username, password, callback) {
  // TODO: ìœ„ í•¨ìˆ˜ë“¤ì„ ì²´ì¸ìœ¼ë¡œ ì—°ê²°í•˜ê³  ì—ëŸ¬ë¥¼ ì ì ˆíˆ ì „íŒŒ
}</textarea
          >
          <div class="demo-controls">
            <button class="btn btn-primary" onclick="testPractice2()">
              í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            </button>
            <button class="btn btn-secondary" onclick="showSolution2()">
              ì •ë‹µ ë³´ê¸°
            </button>
          </div>
          <div
            id="practice-2-result"
            class="output"
            style="display: none"
          ></div>
        </div>

        <h3>ğŸ“ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
        <div class="quiz">
          <div style="display: grid; gap: 15px">
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              <input type="checkbox" id="check-1" />
              <span>CPSì™€ Non-CPSì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ê³  êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤</span>
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              <input type="checkbox" id="check-2" />
              <span>ë¹„ë™ê¸° ì½œë°±ì˜ ì‹¤í–‰ íë¦„ê³¼ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ì´í•´í•œë‹¤</span>
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              <input type="checkbox" id="check-3" />
              <span>ì—ëŸ¬ ìš°ì„  ì½œë°± íŒ¨í„´ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤</span>
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              <input type="checkbox" id="check-4" />
              <span>Zalgo ë¬¸ì œë¥¼ ì‹ë³„í•˜ê³  í•´ê²°í•  ìˆ˜ ìˆë‹¤</span>
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 4px;
                cursor: pointer;
              "
            >
              <input type="checkbox" id="check-5" />
              <span>process.nextTick()ê³¼ setImmediate()ì˜ ì°¨ì´ë¥¼ ì•ˆë‹¤</span>
            </label>
          </div>
          <button
            class="btn btn-primary"
            onclick="checkProgress()"
            style="margin-top: 20px; width: 100%"
          >
            í•™ìŠµ ì™„ë£Œ!
          </button>
          <div
            id="progress-result"
            style="
              display: none;
              margin-top: 15px;
              padding: 15px;
              background: white;
              border-radius: 4px;
            "
          ></div>
        </div>
      </section>

      <!-- ì¶”ê°€ í•™ìŠµ ìë£Œ -->
      <section>
        <h2>ğŸ“š ë” ê¹Šì´ í•™ìŠµí•˜ê¸°</h2>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
          "
        >
          <div
            style="
              padding: 20px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              border-radius: 8px;
            "
          >
            <h3 style="color: white; margin-bottom: 10px">ğŸ”— ê´€ë ¨ ê°œë…</h3>
            <ul style="line-height: 1.8">
              <li>Promiseì™€ async/await</li>
              <li>ì´ë²¤íŠ¸ ì´ë¯¸í„° íŒ¨í„´</li>
              <li>ìŠ¤íŠ¸ë¦¼ (Streams)</li>
              <li>ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ</li>
            </ul>
          </div>

          <div
            style="
              padding: 20px;
              background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
              color: white;
              border-radius: 8px;
            "
          >
            <h3 style="color: white; margin-bottom: 10px">ğŸ“– ì¶”ì²œ ìë£Œ</h3>
            <ul style="line-height: 1.8">
              <li>Node.js ë””ìì¸ íŒ¨í„´ ë°”ì´ë¸”</li>
              <li>Node.js ê³µì‹ ë¬¸ì„œ</li>
              <li>You Don't Know JS (Async)</li>
              <li>JavaScript.info - Callbacks</li>
            </ul>
          </div>

          <div
            style="
              padding: 20px;
              background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
              color: white;
              border-radius: 8px;
            "
          >
            <h3 style="color: white; margin-bottom: 10px">ğŸ’¼ ì‹¤ë¬´ ì ìš©</h3>
            <ul style="line-height: 1.8">
              <li>íŒŒì¼ ì‹œìŠ¤í…œ ì‘ì—…</li>
              <li>ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬</li>
              <li>HTTP ìš”ì²­/ì‘ë‹µ</li>
              <li>ë¯¸ë“¤ì›¨ì–´ íŒ¨í„´</li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <footer>
      <div class="container">
        <p style="font-size: 1.1em">ğŸš€ Node.js ì½œë°± íŒ¨í„´ ë§ˆìŠ¤í„°í•˜ê¸°</p>
        <p style="margin-top: 10px; opacity: 0.8">
          ì´ ê°€ì´ë“œê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´, ë‹¤ìŒ ë‹¨ê³„ë¡œ Promiseì™€ async/awaitë¥¼
          í•™ìŠµí•´ë³´ì„¸ìš”!
        </p>
      </div>
    </footer>

    <script>
      // íƒ­ ì „í™˜
      function switchTab(event, tabId) {
        const tabButtons = event.target.parentElement.querySelectorAll(".tab");
        const tabContents =
          event.target.parentElement.parentElement.querySelectorAll(
            ".tab-content"
          );

        tabButtons.forEach((btn) => btn.classList.remove("active"));
        tabContents.forEach((content) => content.classList.remove("active"));

        event.target.classList.add("active");
        document.getElementById(tabId).classList.add("active");
      }

      // ì½”ë“œ ì‹¤í–‰ í•¨ìˆ˜ë“¤
      function runCode(type) {
        const outputId = `output-${type}`;
        const output = document.getElementById(outputId);
        output.style.display = "block";
        output.textContent = "";

        const originalLog = console.log;
        const logs = [];
        console.log = (...args) => {
          logs.push(args.join(" "));
        };

        try {
          switch (type) {
            case "direct":
              function add(a, b) {
                return a + b;
              }
              const result = add(2, 3);
              console.log("ê²°ê³¼:", result);
              break;
            case "cps":
              function addCPS(a, b, callback) {
                const result = a + b;
                callback(result);
              }
              addCPS(2, 3, (result) => {
                console.log("ê²°ê³¼:", result);
              });
              break;
            case "non-cps":
              const numbers = [1, 3, 5];
              const resultArr = numbers.map((x) => x * 2);
              console.log("ì›ë³¸:", numbers);
              console.log("ê²°ê³¼:", resultArr);
              console.log("íƒ€ì…:", typeof resultArr);
              break;
            case "cps-comp":
              function processArrayCPS(arr, processor, callback) {
                const results = [];
                arr.forEach((item) => {
                  results.push(processor(item));
                });
                callback(results);
              }
              const nums = [1, 3, 5];
              processArrayCPS(
                nums,
                (x) => x * 2,
                (result) => {
                  console.log("CPS ê²°ê³¼:", result);
                }
              );
              break;
          }
        } catch (e) {
          logs.push("âŒ ì—ëŸ¬: " + e.message);
        }

        console.log = originalLog;
        output.textContent = logs.join("\n");
      }

      function runAsyncDemo() {
        const output = document.getElementById("output-async");
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        function addAsync(a, b, callback) {
          log("â³ 1ì´ˆ í›„ ê³„ì‚° ì‹œì‘...");
          setTimeout(() => {
            const result = a + b;
            callback(result);
          }, 1000);
        }

        log("ğŸŸ¢ Start");
        addAsync(2, 3, (result) => {
          log(`âœ… Result: ${result}`);
        });
        log("ğŸ”µ End");
      }

      function runClosureDemo() {
        const output = document.getElementById("output-closure");
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        function asyncWithClosure() {
          const userName = "Alice";
          const timestamp = Date.now();

          log("ë¹„ë™ê¸° ì‘ì—… ì‹œì‘...");

          setTimeout(() => {
            log(`ì‚¬ìš©ì: ${userName}`);
            log(`ì‹œì‘ ì‹œê°„: ${timestamp}`);
            log(`í˜„ì¬ ì‹œê°„: ${Date.now()}`);
            log(`ê²½ê³¼ ì‹œê°„: ${Date.now() - timestamp}ms`);
          }, 1000);
        }

        asyncWithClosure();
      }

      function runErrorFirstDemo() {
        const output = document.getElementById("output-error-first");
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        function readFileAsync(filename, callback) {
          setTimeout(() => {
            if (filename === "error.txt") {
              callback(new Error("íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"));
            } else {
              callback(null, "íŒŒì¼ ë‚´ìš©ì…ë‹ˆë‹¤");
            }
          }, 500);
        }

        readFileAsync("test.txt", (err, data) => {
          if (err) {
            log("âŒ ì—ëŸ¬ ë°œìƒ: " + err.message);
            return;
          }
          log("âœ… ì„±ê³µ: " + data);
        });

        setTimeout(() => {
          readFileAsync("error.txt", (err, data) => {
            if (err) {
              log("âŒ ì—ëŸ¬ ë°œìƒ: " + err.message);
              return;
            }
            log("âœ… ì„±ê³µ: " + data);
          });
        }, 1000);
      }

      function runErrorPropagation() {
        const output = document.getElementById("output-error-prop");
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        const fakeDB = {
          users: { 1: { name: "Alice", profileId: "100" } },
          profiles: { 100: { bio: "Software Engineer" } },
        };

        function getUser(userId, callback) {
          setTimeout(() => {
            const user = fakeDB.users[userId];
            if (!user) {
              return callback(new Error(`ì‚¬ìš©ì ${userId}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`));
            }
            callback(null, user);
          }, 300);
        }

        function getProfile(profileId, callback) {
          setTimeout(() => {
            const profile = fakeDB.profiles[profileId];
            if (!profile) {
              return callback(
                new Error(`í”„ë¡œí•„ ${profileId}ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`)
              );
            }
            callback(null, profile);
          }, 300);
        }

        function getUserWithProfile(userId, callback) {
          getUser(userId, (err, user) => {
            if (err) return callback(err);

            getProfile(user.profileId, (err, profile) => {
              if (err) return callback(err);
              callback(null, { ...user, profile });
            });
          });
        }

        getUserWithProfile("1", (err, data) => {
          if (err) {
            log("âŒ ì‹¤íŒ¨: " + err.message);
            return;
          }
          log("âœ… ì„±ê³µ: " + JSON.stringify(data, null, 2));
        });

        setTimeout(() => {
          getUserWithProfile("999", (err, data) => {
            if (err) {
              log("âŒ ì‹¤íŒ¨: " + err.message);
              return;
            }
            log("âœ… ì„±ê³µ: " + JSON.stringify(data, null, 2));
          });
        }, 1000);
      }

      function runZalgoDemo(type) {
        const outputId = `output-zalgo-${type}`;
        const output = document.getElementById(outputId);
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        const cache = {};

        if (type === "bad") {
          function readFileUnpredictable(filename, callback) {
            if (cache[filename]) {
              log("ğŸ“¦ ìºì‹œì—ì„œ ì½ìŒ (ë™ê¸°)");
              callback(null, cache[filename]);
            } else {
              log("ğŸ“ íŒŒì¼ì—ì„œ ì½ìŒ (ë¹„ë™ê¸°)");
              setTimeout(() => {
                const data = `ë‚´ìš©: ${filename}`;
                cache[filename] = data;
                callback(null, data);
              }, 500);
            }
          }

          let counter = 0;
          log("=== ì²« ë²ˆì§¸ í˜¸ì¶œ (ìºì‹œ ì—†ìŒ) ===");
          readFileUnpredictable("test.txt", (err, data) => {
            log(`ì½œë°± ì‹¤í–‰, counter: ${counter}`);
          });
          counter++;
          log(`ë™ê¸° ì½”ë“œ, counter: ${counter}`);

          setTimeout(() => {
            counter = 0;
            log("\n=== ë‘ ë²ˆì§¸ í˜¸ì¶œ (ìºì‹œ ìˆìŒ) ===");
            readFileUnpredictable("test.txt", (err, data) => {
              log(`ì½œë°± ì‹¤í–‰, counter: ${counter}`);
            });
            counter++;
            log(`ë™ê¸° ì½”ë“œ, counter: ${counter}`);
          }, 1500);
        } else {
          function readFilePredictable(filename, callback) {
            if (cache[filename]) {
              log("ğŸ“¦ ìºì‹œì—ì„œ ì½ìŒ (ë¹„ë™ê¸°í™”ë¨)");
              setTimeout(() => callback(null, cache[filename]), 0);
            } else {
              log("ğŸ“ íŒŒì¼ì—ì„œ ì½ìŒ (ë¹„ë™ê¸°)");
              setTimeout(() => {
                const data = `ë‚´ìš©: ${filename}`;
                cache[filename] = data;
                callback(null, data);
              }, 500);
            }
          }

          let counter = 0;
          log("=== ì²« ë²ˆì§¸ í˜¸ì¶œ ===");
          readFilePredictable("test.txt", (err, data) => {
            log(`ì½œë°± ì‹¤í–‰, counter: ${counter}`);
          });
          counter++;
          log(`ë™ê¸° ì½”ë“œ, counter: ${counter}`);

          setTimeout(() => {
            counter = 0;
            log("\n=== ë‘ ë²ˆì§¸ í˜¸ì¶œ ===");
            readFilePredictable("test.txt", (err, data) => {
              log(`ì½œë°± ì‹¤í–‰, counter: ${counter}`);
            });
            counter++;
            log(`ë™ê¸° ì½”ë“œ, counter: ${counter}`);
          }, 1500);
        }
      }

      function runTickVsImmediate() {
        const output = document.getElementById("output-tick-immediate");
        output.style.display = "block";
        output.textContent = "";

        const logs = [];
        const log = (msg) => {
          logs.push(msg);
          output.textContent = logs.join("\n");
        };

        log("1. ë™ê¸° ì½”ë“œ ì‹œì‘");

        setTimeout(() => {
          log("4. setImmediate");
        }, 0);

        setTimeout(() => {
          log("3. nextTick");
        }, 0);

        log("2. ë™ê¸° ì½”ë“œ ë");
      }

      // í€´ì¦ˆ ì²´í¬
      function checkQuizAnswer(element, isCorrect) {
        const allOptions =
          element.parentElement.querySelectorAll(".quiz-option");
        allOptions.forEach((opt) => {
          opt.classList.remove("correct", "incorrect");
          opt.style.pointerEvents = "none";
        });

        if (isCorrect) {
          element.classList.add("correct");
          element.innerHTML += " <strong>âœ… ì •ë‹µ!</strong>";
        } else {
          element.classList.add("incorrect");
          element.innerHTML += " <strong>âŒ ì˜¤ë‹µ</strong>";
        }
      }

      // CPS ì—°ìŠµ ì²´í¬
      function checkCPSPractice() {
        const code = document.getElementById("cps-practice").value;
        const result = document.getElementById("practice-result");
        result.style.display = "block";

        if (code.includes("callback") && code.includes("x * y")) {
          result.textContent = "âœ… ì •ë‹µ! CPS ìŠ¤íƒ€ì¼ë¡œ ì˜ ë³€í™˜í–ˆìŠµë‹ˆë‹¤.";
          result.style.background = "#c8e6c9";
        } else {
          result.textContent =
            "âŒ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”. íŒíŠ¸: callbackì„ ì‚¬ìš©í•˜ì—¬ ê²°ê³¼ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.";
          result.style.background = "#ffcdd2";
        }
      }

      function showCPSHint() {
        alert("íŒíŠ¸: callback(x * y); í˜•íƒœë¡œ ê²°ê³¼ë¥¼ ì „ë‹¬í•˜ì„¸ìš”!");
      }

      function classifyMethod(element, type) {
        if (type === "non-cps") {
          element.style.background = "#c8e6c9";
          element.style.borderColor = "#4caf50";
          element.innerHTML +=
            '<div style="margin-top: 10px; color: #2e7d32;">âœ… Non-CPS</div>';
        }
        element.style.pointerEvents = "none";
      }

      // ì‹¤ìŠµ í…ŒìŠ¤íŠ¸
      function testPractice1() {
        alert(
          "ì‹¤ìŠµ 1 í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì€ ì‹¤ì œ Node.js í™˜ê²½ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤. ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!"
        );
      }

      function showSolution1() {
        const solution = `const cache = {};

function cachedFetch(url, callback) {
  if (cache[url]) {
    // ìºì‹œì— ìˆì–´ë„ ë¹„ë™ê¸°ë¡œ!
    process.nextTick(() => {
      callback(null, cache[url]);
    });
  } else {
    // ë¹„ë™ê¸° fetch ì‹œë®¬ë ˆì´ì…˜
    setTimeout(() => {
      const data = \`Data from \${url}\`;
      cache[url] = data;
      callback(null, data);
    }, 1000);
  }
}`;
        alert("ì •ë‹µ:\n\n" + solution);
      }

      function testPractice2() {
        alert(
          "ì‹¤ìŠµ 2 í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ì€ ì‹¤ì œ Node.js í™˜ê²½ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤. ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!"
        );
      }

      function showSolution2() {
        const solution = `function getUserData(username, password, callback) {
  authenticate(username, password, (err, userId) => {
    if (err) return callback(err);
    
    checkPermission(userId, 'data', (err, hasPermission) => {
      if (err) return callback(err);
      if (!hasPermission) return callback(new Error('ê¶Œí•œ ì—†ìŒ'));
      
      fetchData(userId, (err, data) => {
        if (err) return callback(err);
        callback(null, data);
      });
    });
  });
}`;
        alert("ì •ë‹µ:\n\n" + solution);
      }

      function checkProgress() {
        const checks = [1, 2, 3, 4, 5].map(
          (i) => document.getElementById(`check-${i}`).checked
        );
        const completed = checks.filter(Boolean).length;
        const total = checks.length;
        const percentage = Math.round((completed / total) * 100);

        const result = document.getElementById("progress-result");
        result.style.display = "block";

        if (percentage === 100) {
          result.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ‰</div>
                        <h3 style="color: var(--success); margin: 15px 0;">ì¶•í•˜í•©ë‹ˆë‹¤!</h3>
                        <p>Node.js ì½œë°± íŒ¨í„´ì„ ì™„ì „íˆ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤!</p>
                        <p style="margin-top: 15px;">ë‹¤ìŒ ë‹¨ê³„: Promiseì™€ async/awaitë¥¼ í•™ìŠµí•´ë³´ì„¸ìš”.</p>
                    </div>
                `;
        } else if (percentage >= 60) {
          result.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ‘</div>
                        <h3 style="color: var(--primary);">ì¢‹ì€ ì§„í–‰ì…ë‹ˆë‹¤!</h3>
                        <p>ì§„í–‰ë¥ : ${percentage}% (${completed}/${total})</p>
                        <p style="margin-top: 15px;">ì¡°ê¸ˆë§Œ ë” í•™ìŠµí•˜ë©´ ì™„ë²½í•©ë‹ˆë‹¤!</p>
                    </div>
                `;
        } else {
          result.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ“š</div>
                        <h3 style="color: var(--accent);">ê³„ì† í•™ìŠµí•˜ì„¸ìš”!</h3>
                        <p>ì§„í–‰ë¥ : ${percentage}% (${completed}/${total})</p>
                        <p style="margin-top: 15px;">ìœ„ ì„¹ì…˜ë“¤ì„ ë‹¤ì‹œ í•œë²ˆ ë³µìŠµí•´ë³´ì„¸ìš”.</p>
                    </div>
                `;
        }
      }
    </script>
  </body>
</html>
